webpackJsonp([19],{"./app/components/AccountHome/index.js":function(e,o,t){"use strict";function n(e){if(Array.isArray(e)){for(var o=0,t=Array(e.length);o<e.length;o++)t[o]=e[o];return t}return Array.from(e)}function a(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o}function r(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}function i(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}var s=t("./node_modules/react/react.js"),l=t.n(s),c=t("./app/utils/injectors.js"),d=t("./node_modules/material-ui/List/index.js"),u=(t.n(d),t("./node_modules/material-ui/Paper/index.js")),p=t.n(u),m=t("./node_modules/material-ui/Avatar/index.js"),f=t.n(m),h=t("./node_modules/material-ui/Divider/index.js"),g=t.n(h),v=t("./node_modules/material-ui/Subheader/index.js"),y=t.n(v),b=t("./node_modules/material-ui/svg-icons/av/web.js"),C=t.n(b),A=t("./node_modules/material-ui/svg-icons/action/settings.js"),_=t.n(A),L=t("./node_modules/material-ui/svg-icons/action/euro-symbol.js"),H=t.n(L),M=t("./node_modules/material-ui/svg-icons/action/list.js"),w=t.n(M),S=t("./node_modules/material-ui/svg-icons/device/access-time.js"),I=t.n(S),j=t("./node_modules/material-ui/svg-icons/navigation/chevron-right.js"),x=t.n(j),O=t("./node_modules/material-ui/svg-icons/alert/warning.js"),T=t.n(O),E=t("./node_modules/material-ui/svg-icons/alert/error.js"),N=t.n(E),P=t("./node_modules/material-ui/svg-icons/editor/attach-money.js"),R=t.n(P),k=t("./node_modules/material-ui/svg-icons/communication/email.js"),D=t.n(k),z=t("./node_modules/material-ui/svg-icons/communication/phone.js"),V=t.n(z),W=t("./node_modules/material-ui/svg-icons/social/person.js"),U=t.n(W),B=t("./node_modules/material-ui/svg-icons/notification/event-note.js"),$=t.n(B),F=t("./node_modules/material-ui/svg-icons/av/library-books.js"),q=t.n(F),G=t("./node_modules/material-ui/svg-icons/action/date-range.js"),K=t.n(G),Q=t("./node_modules/material-ui/svg-icons/communication/location-on.js"),J=t.n(Q),Y=t("./node_modules/material-ui/Card/index.js"),X=(t.n(Y),t("./node_modules/material-ui/svg-icons/content/report.js")),Z=t.n(X),ee=t("./app/utils/formUtils.js"),oe=t("./node_modules/material-ui/styles/colors.js"),te=(t.n(oe),t("./node_modules/deep-equal/index.js")),ne=t.n(te);t.d(o,"b",function(){return pe}),t.d(o,"a",function(){return Oe});var ae,re,ie,se,le,ce=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(o,t,n,a){var r=o&&o.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var l=Array(i),c=0;c<i;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:e,type:o,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}(),de=function(){function e(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(o,t,n){return t&&e(o.prototype,t),n&&e(o,n),o}}(),ue={container:{textAlign:"left"},subheader:{lineHeight:"normal",paddingBottom:10},fullname:{lineHeight:1,fontWeight:"400",margin:"16px 0"},bold:{fontWeight:"bold"}},pe=(re=ae=function e(){i(this,e)},ae.SHOW_LOANS="loans",ae.SHOW_DIGITAL_LOANS="digitalloans",ae.SHOW_FINES="fines",ae.SHOW_BASKETS="baskets",ae.SHOW_RESERVATIONS="reservations",re),me=ce(g.a,{inset:!0}),fe=ce(g.a,{inset:!0}),he=ce(g.a,{inset:!0}),ge=ce(g.a,{inset:!0}),ve=ce(g.a,{inset:!0}),ye=ce("br",{}),be=ce("br",{}),Ce=ce(g.a,{inset:!0}),Ae=ce(N.a,{color:oe.red500}),_e=ce(T.a,{color:oe.amber500}),Le=ce("br",{},"brNumericList"),He=ce("br",{},"brLostCard"),Me=ce("br",{},"brRenew"),we=ce(g.a,{inset:!0}),Se=ce("br",{},"brChangePin"),Ie=ce(g.a,{inset:!0}),je=ce(g.a,{inset:!1}),xe=ce(g.a,{inset:!1}),Oe=t.i(c.c)(ie=t.i(c.b)((le=se=function(e){function o(){var e,r,s,l;i(this,o);for(var c=arguments.length,u=Array(c),p=0;p<c;p++)u[p]=arguments[p];return r=s=a(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(u))),s.renderQuickAccess=function(){var e=s.props,o=e.rights,t=e.ilsOnline,n=e.intl,a=n.formatMessage;return ce("div",{},void 0,ce(y.a,{},void 0,a({id:"AccountHome.quickAccess",defaultMessage:"Quick access"})),o.get("hasAdminRight")?s.renderAdminSection():null,o.get("allowViewLoans")&&t?s.renderLoans():null,o.get("allowViewDigitalLoans")?s.renderDigitalLoans():null,o.get("allowViewReservations")&&t?s.renderReservations():null,o.get("allowViewFines")&&t?s.renderFees():null,s.renderBaskets(),s.renderActionLinks(),s.renderHelpLinks())},s.renderAdminSection=function(){var e=s.props,o=e.intl,n=e.mondoinTheme,a=o.formatMessage;return ce("div",{},void 0,ce(d.ListItem,{primaryText:a({id:"AccountMenu.cmsConsole",defaultMessage:"CMS Console"}),leftIcon:ce(C.a,{color:n.palette.primary1Color}),rightIcon:ce(x.a,{color:n.palette.primary1Color}),onTouchTap:t.i(ee.a)(function(){window.open("/admin")})},void 0),me,ce(d.ListItem,{primaryText:a({id:"AccountMenu.console",defaultMessage:"Admin console"}),leftIcon:ce(_.a,{color:n.palette.primary1Color}),rightIcon:ce(x.a,{color:n.palette.primary1Color}),onTouchTap:t.i(ee.a)(function(){window.open("/in/console.xhtml")})},void 0),fe)},s.renderLoans=function(){var e=s.props,o=e.summary,n=e.onAccountAction,a=e.intl,r=e.mondoinTheme,i=a.formatMessage;return ce("div",{},void 0,ce(d.ListItem,{leftIcon:ce(q.a,{color:r.palette.primary1Color}),rightIcon:ce(x.a,{color:r.palette.primary1Color}),onTouchTap:t.i(ee.a)(function(){n(pe.SHOW_LOANS)})},void 0,ce("span",{},void 0,i({id:"AccountHome.loans",defaultMessage:"Materials currently borrowed"}),i({id:"Colon",defaultMessage:":"})," "),ce("span",{style:ue.bold},void 0,o.loanCount)),he)},s.renderDigitalLoans=function(){var e=s.props,o=e.countDigitalLoans,n=e.onAccountAction,a=e.intl,r=e.mondoinTheme,i=a.formatMessage;return ce("div",{},void 0,ce(d.ListItem,{leftIcon:ce(I.a,{color:r.palette.primary1Color}),rightIcon:ce(x.a,{color:r.palette.primary1Color}),onTouchTap:t.i(ee.a)(function(){n(pe.SHOW_DIGITAL_LOANS)})},void 0,ce("span",{},void 0,i({id:"AccountHome.digitalLoans1",defaultMessage:"Digital loans"}),i({id:"Colon",defaultMessage:":"})," "),ce("span",{style:ue.bold},void 0,o)),ge)},s.renderReservations=function(){var e=s.props,o=e.summary,n=e.onAccountAction,a=e.intl,r=e.mondoinTheme,i=a.formatMessage;return ce("div",{},void 0,ce(d.ListItem,{leftIcon:ce(K.a,{color:r.palette.primary1Color}),rightIcon:ce(x.a,{color:r.palette.primary1Color}),onTouchTap:t.i(ee.a)(function(){n(pe.SHOW_RESERVATIONS)})},void 0,ce("span",{},void 0,i({id:"AccountHome.reservations",defaultMessage:"Holds"}),i({id:"Colon",defaultMessage:":"})," "),ce("span",{style:ue.bold},void 0,o.resvCount)),ve)},s.renderFees=function(){var e=s.props,o=e.summary,n=e.onAccountAction,a=e.intl,r=e.payCurrency,i=e.mondoinTheme,l=a.formatMessage,c=ce(R.a,{color:i.palette.primary1Color});return"EUR"===r&&(c=ce(H.a,{color:i.palette.primary1Color})),ce("div",{},void 0,ce(d.ListItem,{leftIcon:c,rightIcon:ce(x.a,{color:i.palette.primary1Color}),onTouchTap:t.i(ee.a)(function(){n(pe.SHOW_FINES)})},void 0,ce("span",{},void 0,l({id:"AccountHome.fines",defaultMessage:"Fees"}),l({id:"Colon",defaultMessage:":"})," "),ce("span",{style:ue.bold},void 0,a.formatNumber(o.currentAmountOwed||0,{currency:r,style:"currency"}).replace(/\$CA|CA\$|\$US|US\$/,"$")),ye,be,null!=o.estimatedLateFees?ce("span",{},void 0,ce("span",{},void 0,l({id:"AccountHome.estimatedFines",defaultMessage:"Estimated fees"}),l({id:"Colon",defaultMessage:":"})," "),ce("span",{style:ue.bold},void 0,a.formatNumber(o.estimatedLateFees,{currency:r,style:"currency"}).replace(/\$CA|CA\$|\$US|US\$/,"$"))):null),Ce)},s.renderBaskets=function(){var e=s.props,o=e.onAccountAction,n=e.intl,a=e.mondoinTheme,r=n.formatMessage;return ce(d.ListItem,{leftIcon:ce(w.a,{color:a.palette.primary1Color}),rightIcon:ce(x.a,{color:a.palette.primary1Color}),onTouchTap:t.i(ee.a)(function(){o(pe.SHOW_BASKETS)})},void 0,ce("span",{},void 0,r({id:"AccountHome.myLists",defaultMessage:"My lists"})))},s.renderReservationCode=function(e){var o=s.props,t=o.displayReservationCode,n=o.intl,a=n.formatMessage,r=null;if(void 0!==e.subscriberId&&void 0!==e.name){var i=e.subscriberId;i.length<13&&(i+="               "),r=e.name.charAt(0).toUpperCase()+i.substring(9,14)}return t&&null!=r?ce("div",{},void 0,""+a({id:"AccountHome.reservationCode",defaultMessage:"Reservation code"})+a({id:"Colon",defaultMessage:":"})+" "+r):null},s.renderTrap=function(e){if(null==e.trapList)return[];var o=e.trapList;o.forEach(function(o){o.trapIdCode_desc.indexOf("{OVERDUE_LOANS}")!==-1&&(o.trapIdCode_desc=o.trapIdCode_desc.replace("{OVERDUE_LOANS}",e.overdueLoans))});var t=[];return"Error"===e.trapLevel&&e.legends&&e.legends["account.trapsErrorLegend"]&&"-"!==e.legends["account.trapsErrorLegend"]&&t.push(ce(d.ListItem,{primaryText:ce("div",{dangerouslySetInnerHTML:{__html:e.legends["account.trapsErrorLegend"]}}),disabled:!0},"trapErrorLegend")),t.push.apply(t,n(o.map(function(e){return ce(d.ListItem,{leftIcon:"Error"===e.trapLevel?Ae:_e,primaryText:e.trapIdCode_desc,disabled:!0},e.trapId)}))),t},s.renderHelpLinks=function(){var e=s.props,o=e.intl,n=e.showAccountDigitalLoansHelp,a=e.showAccountDigitalLoansHelpText,r=e.showLostCardHelp,i=e.showRenewSubscriptionHelp,l=e.showLostCardHelpText,c=e.showRenewSubscriptionHelpText,u=e.onOpenLostCard,p=e.onOpenRenewSubscription,m=e.onOpenLoanHelp,f=e.editProfileRedirect,h=e.mondoinTheme,g=o.formatMessage;if(!(n||r||i||f))return null;var v=[];if(n){var y=g({id:"AccountPage.whereIsMyNumericList",defaultMessage:"Where is my list of numeric books"}),b=ce("a",{style:{marginBottom:"5px",display:"inline-block"},href:"#",onTouchTap:t.i(ee.a)(function(){m(y,a)})},"numericList",y);v.push(b),v.push(Le)}if(r){var C=g({id:"AccountLostCardDialog.title",defaultMessage:"How to report the loss of my card"}),A=ce("a",{style:{marginBottom:"5px",display:"inline-block"},href:"#",onTouchTap:t.i(ee.a)(function(){u(C,l)})},"lostCard",C);v.push(A),v.push(He)}if(i){var _=g({id:"AccountRenewSubscriptionDialog.title",defaultMessage:"How to renew my library subscription"}),L=ce("a",{style:{marginBottom:"5px",display:"inline-block"},href:"#",onTouchTap:t.i(ee.a)(function(){p(_,c)})},"renew",_);v.push(L),v.push(Me)}if(f){var H=ce("a",{style:{marginBottom:"5px",display:"inline-block"},href:f,target:"_blank",rel:"noopener"},"editProfile",g({id:"AccountEditProfile.title",defaultMessage:"Modify my contact information"}));v.push(H)}return ce("div",{},void 0,we,ce(d.ListItem,{disabled:!0,leftIcon:ce(Z.a,{color:h.palette.primary1Color})},void 0,ce("div",{},void 0,v)))},s.renderActionLinks=function(){var e=s.props,o=e.intl,n=e.rights,a=e.useShibboleth,r=e.onChangePin,i=e.onChangeContact,l=e.mondoinTheme,c=o.formatMessage,u=!a&&n.get("allowChangePassword"),p=n.get("allowViewChangeContact");if(!u&&!p)return null;var m=[];return u&&(m.push(ce("a",{style:{marginBottom:"5px",display:"inline-block"},href:"#",onTouchTap:t.i(ee.a)(function(){r()})},"changePin",c({id:"AccountHome.changePin",defaultMessage:"Change password"}))),m.push(Se)),p&&m.push(ce("a",{style:{marginBottom:"5px",display:"inline-block"},href:"#",onTouchTap:t.i(ee.a)(function(){i()})},"changeContact",c({id:"AccountHome.changeContact",defaultMessage:"Change personal information"}))),ce("div",{},void 0,Ie,ce(d.ListItem,{disabled:!0,leftIcon:ce(U.a,{color:l.palette.primary1Color})},void 0,ce("div",{},void 0,m)))},s.renderPersonalInfo=function(e,o){var t=s.props,n=t.intl,a=t.compactMode,r=t.mondoinTheme,i=e.firstName,l=e.lastName;null!=i&&(i=e.firstName.charAt(0).toUpperCase()),null!=l&&(l=e.lastName.charAt(0).toUpperCase()),null==i&&(i=""),null==l&&(l="");var c=n.formatMessage,u=ce(d.ListItem,{leftAvatar:ce(f.a,{backgroundColor:r.palette.primary1Color,size:24},void 0,i+l),primaryText:(void 0!==e.firstName?e.firstName:"")+" "+(void 0!==e.lastName?e.lastName:""),secondaryText:c({id:"AccountHome.accountName",defaultMessage:"Name"}),disabled:!0}),p=s.renderListItemInfo(o.emailAddress,c({id:"AccountHome.accountEmail",defaultMessage:"Email"}),ce(D.a,{color:r.palette.primary1Color})),m=s.renderListItemInfo(o.telephone1&&o.telephone1+(o.telephone1Ext?" #"+o.telephone1Ext:""),c({id:"AccountHome.accountTelephone1",defaultMessage:"Phone (home)"}),ce(V.a,{color:r.palette.primary1Color})),h=s.renderListItemInfo(o.telephone2&&o.telephone2+(o.telephone2Ext?" #"+o.telephone2Ext:""),c({id:"AccountHome.accountTelephone2",defaultMessage:"Phone (day)"}),ce(V.a,{color:r.palette.primary1Color})),g=s.renderListItemInfo(o.mobilePhone,c({id:"AccountHome.mobilePhone",defaultMessage:"Phone (cell)"}),ce(V.a,{color:r.palette.primary1Color})),v=null;null!=o.contactMethod&&("2"===o.contactMethod?v=c({id:"AccountHome.contactMethodEmail",defaultMessage:"Contact by Email"}):"1"===o.contactMethod?v=c({id:"AccountHome.contactMethodPost",defaultMessage:"Contact by Post"}):"0"===o.contactMethod&&(v=c({id:"AccountHome.contactMethodEmail",defaultMessage:"No Preference provided"})));var b=s.renderListItemInfo(v,c({id:"AccountHome.contactMethod",defaultMessage:"Preferred method of contact"}),ce($.a,{color:r.palette.primary1Color})),C=s.renderAddress(o);return a?ce(Y.Card,{},void 0,ce(Y.CardHeader,{title:c({id:"AccountHome.accountInformation",defaultMessage:"Personal information"}),actAsExpander:!0,showExpandableButton:!0}),ce(Y.CardText,{expandable:!0,style:{padding:0}},void 0,u,p,m,h,g,b,C)):null==p&&null==m&&null==h&&null==g&&null==C?null:ce("div",{},void 0,je,ce(y.a,{},void 0,c({id:"AccountHome.accountInformation",defaultMessage:"Personal information"})),p,m,h,g,b,C)},s.renderAddress=function(e){var o=s.props,t=o.intl,n=o.mondoinTheme,a=t.formatMessage;if(null==e.address1&&null==e.address2&&null==e.address3&&null==e.postalCode)return null;var r=[e.address1,e.address2,e.postalCode,e.address3].filter(function(e){return e}).join(", ");return s.renderListItemInfo(r,a({id:"AccountHome.accountAddress",defaultMessage:"Address"}),ce(J.a,{color:n.palette.primary1Color}))},s.renderExpiryDate=function(e){var o=s.props.intl,t=o.formatMessage;return e.expiryDate?ce("div",{},void 0,""+t({id:"AccountHome.expiryDate",defaultMessage:"Expire on"})+t({id:"Colon",defaultMessage:":"})+" "+e.expiryDate):null},s.renderListItemInfo=function(e,o,t){return e?ce(d.ListItem,{leftIcon:t,primaryText:e,secondaryText:o,disabled:!0}):null},l=r,a(s,l)}return r(o,e),de(o,[{key:"shouldComponentUpdate",value:function(e){return!(this.props.expiry===e.expiry&&this.props.showLostCardHelp===e.showLostCardHelp&&this.props.showRenewSubscriptionHelp===e.showRenewSubscriptionHelp&&this.props.showAccountDigitalLoansHelp===e.showAccountDigitalLoansHelp&&this.props.countDigitalLoans===e.countDigitalLoans&&this.props.compactMode===e.compactMode&&ne()(this.props.summary,e.summary)&&ne()(this.props.profile,e.profile)&&ne()(this.props.rights,e.rights))}},{key:"render",value:function(){var e=this.props,o=e.summary,t=e.profile,n=e.intl,a=e.expiry,r=e.compactMode,i=e.mondoinTheme,s=n.formatMessage,l=t.firstName,c=t.lastName;null!=l&&(l=t.firstName.charAt(0).toUpperCase()),null!=c&&(c=t.lastName.charAt(0).toUpperCase()),null==l&&(l=""),null==c&&(c="");var u=l+c;return ce(p.a,{zDepth:1,style:ue.container},void 0,ce(d.List,{style:r?{padding:0}:{}},void 0,!r&&ce(d.ListItem,{insetChildren:!0,disabled:!0,leftAvatar:ce(f.a,{backgroundColor:i.palette.primary1Color,size:30},void 0,u),innerDivStyle:{paddingTop:0,paddingBottom:0}},void 0,ce("h2",{style:ue.fullname},void 0,(void 0!==t.firstName?t.firstName:"")+" "+(void 0!==t.lastName?t.lastName:""))),ce(y.a,{inset:!0,style:Object.assign({},ue.subheader,r?{paddingTop:"10px"}:{})},void 0,ce("div",{},void 0,""+s({id:"AccountHome.userName",defaultMessage:"Number"})+s({id:"Colon",defaultMessage:":"})+" "+t.userName),!a&&this.renderExpiryDate(o),this.renderReservationCode(t)),this.renderTrap(o),xe,this.renderQuickAccess(),this.renderPersonalInfo(t,o)))}}]),o}(l.a.Component),se.defaultProps={summary:{resvCount:"0",loanCount:"0",currentAmountOwed:"0",estimatedLateFees:"0",trapList:[],address1:"address1",address2:"address2",address3:"address3",postalCode:"postalCode",telephone1:"phoneNumber1",telephone1Ext:"telephone1Ext",telephone2:"phoneNumber2",telephone2Ext:"telephone2Ext",mobilePhone:"mobilePhone",emailAddress:"emailAddress"},profile:{userName:"username",firstName:"firstname",lastName:"lastname",expiryDate:"expiryDate"}},ie=le))||ie)||ie},"./app/containers/AccountHomePage/index.js":function(e,o,t){"use strict";function n(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function a(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o}function r(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}Object.defineProperty(o,"__esModule",{value:!0});var i=t("./node_modules/react/react.js"),s=(t.n(i),t("./node_modules/react-router-redux/lib/index.js")),l=(t.n(s),t("./app/redux/routeConstants.js")),c=t("./app/utils/injectors.js"),d=t("./app/components/AccountHome/index.js"),u=t("./app/redux/globalActions.js"),p=t("./app/redux/dialogs/dialogActions.js"),m=t("./app/components/DataLoader/index.js"),f=t("./app/utils/imUtils.js"),h=t("./app/utils/api.js"),g=t("./app/containers/AccountHomePage/props-schema.js"),v=t("./app/cms/decorators/localized.js"),y=t("./app/redux/profile/profileSelectors.js");t.d(o,"AccountHomePage",function(){return M});var b,C,A,_,L=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(o,t,n,a){var r=o&&o.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var s in r)void 0===t[s]&&(t[s]=r[s]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var l=Array(i),c=0;c<i;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:e,type:o,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}(),H=function(){function e(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(o,t,n){return t&&e(o.prototype,t),n&&e(o,n),o}}(),M=(b=t.i(v.a)({copyStatics:["defaultProps"]}),b((_=A=function(e){function o(){return n(this,o),a(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return r(o,e),H(o,[{key:"componentWillMount",value:function(){var e=this.props,o=e.dataRefreshInterval,t=e.onLoad;0===o&&t()}},{key:"render",value:function(){var e=this.props,o=e.ilsOnline,n=e.summary,a=e.expiry,r=e.profile,i=e.rights,s=e.compactMode,l=e.countDigitalLoans,c=e.displayReservationCode,u=e.onAccountAction,p=e.onOpenRenewSubscription,h=e.onOpenLoanHelp,g=e.onOpenLostCard,v=e.payCurrency,y=e.editProfileRedirect,b=e.dataRefreshInterval,C=e.useShibboleth,A=e.showLostCardHelp,_=e.showRenewSubscriptionHelp,H=e.showAccountDigitalLoansHelp,M=e.showLostCardHelpText,w=e.showRenewSubscriptionHelpText,S=e.showAccountDigitalLoansHelpText,I=e.onLoad,j=e.onChangePin,x=e.onChangeContact,O=e.localized,T=e.intl,E=T.formatMessage;E({id:"AccountHomePage.title",defaultMessage:"My account"});if(0===Object.keys(n).length)return null;var N=!1;return n.fetched&&(N=t.i(f.c)(n.fetched,b)),L(m.a,{data:N?null:n,onLoad:I},void 0,L(d.a,{ilsOnline:o,summary:n,profile:r,expiry:a,rights:i,compactMode:s,onOpenLoanHelp:h,countDigitalLoans:l,displayReservationCode:c,onAccountAction:u,onOpenLostCard:g,onOpenRenewSubscription:p,payCurrency:v,useShibboleth:C,onChangePin:j,onChangeContact:x,editProfileRedirect:y,showLostCardHelp:A,showRenewSubscriptionHelp:_,showAccountDigitalLoansHelp:H,showLostCardHelpText:O(M),showRenewSubscriptionHelpText:O(w),showAccountDigitalLoansHelpText:O(S)}))}}]),o}(i.Component),A.iconClass="nc-icon-mini users_single-02",A.propsSchema=g.a,A.defaultProps={compactMode:!1},C=_))||C);o.default=t.i(c.d)(function(e){return{traps:t.i(y.e)(e),summary:t.i(y.f)(e),profile:t.i(y.b)(e),rights:e.getIn(["account","rights"]),ilsOnline:e.getIn(["status","ilsOnline"]),countDigitalLoans:t.i(y.g)(e),displayReservationCode:t.i(y.h)(e),payCurrency:e.getIn(["settings","payCurrency"]),useShibboleth:e.getIn(["settings","useShibboleth"]),editProfileRedirect:e.getIn(["settings","editProfileRedirect"]),dataRefreshInterval:e.getIn(["settings","dataRefreshInterval"])}},function(e){return{onLoad:function(){return e(u.N([h.d.ASPECT_ACCOUNT_SUMMARY]))},onOpenRenewSubscription:function(o,t){return e(p.o(o,t))},onOpenLoanHelp:function(o,t){return e(p.o(o,t))},onOpenLostCard:function(o,t){return e(p.o(o,t))},onChangePin:function(){return e(t.i(s.push)(l.u))},onChangeContact:function(){return e(t.i(s.push)(l.v))},onAccountAction:function(o){switch(o){case d.b.SHOW_LOANS:e(u.i());break;case d.b.SHOW_DIGITAL_LOANS:e(u.h());break;case d.b.SHOW_RESERVATIONS:e(u.j());break;case d.b.SHOW_FINES:e(u.k());break;case d.b.SHOW_BASKETS:e(u.O());break;default:return void console.warn("unknown action: ",o)}}}})(t.i(c.c)(M))},"./app/containers/AccountHomePage/props-schema.js":function(e,o,t){"use strict";o.a=[{label:"Hide expiry date",type:"Optional",id:"expiry"},{label:"Compact display",type:"Optional",id:"compactMode"},{id:"showAccountDigitalLoansHelp",label:"Où est la liste de mes livres numériques?",type:"Optional",unlocks:[{label:"",type:"LocalizedHtml",id:"showAccountDigitalLoansHelpText",props:{maxHeight:"300px"}}]},{id:"showLostCardHelp",label:"Signaler la perte de votre carte",type:"Optional",unlocks:[{label:"",type:"LocalizedHtml",id:"showLostCardHelpText",props:{maxHeight:"300px"}}]},{id:"showRenewSubscriptionHelp",label:"Renouveler votre abonnement",type:"Optional",unlocks:[{label:"",type:"LocalizedHtml",id:"showRenewSubscriptionHelpText",props:{maxHeight:"300px"}}]}]},"./node_modules/material-ui/svg-icons/communication/email.js":function(e,o,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var a=t("./node_modules/react/react.js"),r=n(a),i=t("./node_modules/recompose/pure.js"),s=n(i),l=t("./node_modules/material-ui/SvgIcon/index.js"),c=n(l),d=function(e){return r.default.createElement(c.default,e,r.default.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}))};d=(0,s.default)(d),d.displayName="CommunicationEmail",d.muiName="SvgIcon",o.default=d},"./node_modules/material-ui/svg-icons/communication/location-on.js":function(e,o,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var a=t("./node_modules/react/react.js"),r=n(a),i=t("./node_modules/recompose/pure.js"),s=n(i),l=t("./node_modules/material-ui/SvgIcon/index.js"),c=n(l),d=function(e){return r.default.createElement(c.default,e,r.default.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}))};d=(0,s.default)(d),d.displayName="CommunicationLocationOn",d.muiName="SvgIcon",o.default=d},"./node_modules/material-ui/svg-icons/communication/phone.js":function(e,o,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var a=t("./node_modules/react/react.js"),r=n(a),i=t("./node_modules/recompose/pure.js"),s=n(i),l=t("./node_modules/material-ui/SvgIcon/index.js"),c=n(l),d=function(e){return r.default.createElement(c.default,e,r.default.createElement("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"}))};d=(0,s.default)(d),d.displayName="CommunicationPhone",d.muiName="SvgIcon",o.default=d},"./node_modules/material-ui/svg-icons/content/report.js":function(e,o,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var a=t("./node_modules/react/react.js"),r=n(a),i=t("./node_modules/recompose/pure.js"),s=n(i),l=t("./node_modules/material-ui/SvgIcon/index.js"),c=n(l),d=function(e){return r.default.createElement(c.default,e,r.default.createElement("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"}))};d=(0,s.default)(d),d.displayName="ContentReport",d.muiName="SvgIcon",o.default=d},"./node_modules/material-ui/svg-icons/notification/event-note.js":function(e,o,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(o,"__esModule",{value:!0});var a=t("./node_modules/react/react.js"),r=n(a),i=t("./node_modules/recompose/pure.js"),s=n(i),l=t("./node_modules/material-ui/SvgIcon/index.js"),c=n(l),d=function(e){return r.default.createElement(c.default,e,r.default.createElement("path",{d:"M17 10H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-5-5H7v2h7v-2z"}))};d=(0,s.default)(d),d.displayName="NotificationEventNote",d.muiName="SvgIcon",o.default=d}});